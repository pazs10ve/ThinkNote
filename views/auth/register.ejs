<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" /><meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title><%= title %></title>
  <link rel="preconnect" href="https://fonts.googleapis.com" />
  <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700&family=Lora:ital,wght@0,400;0,600;1,400&display=swap" rel="stylesheet" />
  <link rel="stylesheet" href="/css/main.css" />
  <link rel="stylesheet" href="/css/auth.css" />
</head>
<body class="auth-page">
  <%- include('../partials/nav') %>
  <main class="auth-main">
    <div class="auth-card">
      <div class="auth-header">
        <a href="/" class="auth-logo">ThinkNote</a>
        <h1>Create your account</h1>
        <p>Start writing and building your audience.</p>
      </div>

      <% if (error) { %><div class="alert alert-error"><%= error %></div><% } %>

      <form method="POST" action="/auth/register" class="auth-form">
        <div class="form-group">
          <label for="displayName">Full Name</label>
          <input type="text" id="displayName" name="displayName" value="<%= values.displayName || '' %>" placeholder="Ada Lovelace" required />
        </div>
        <div class="form-group">
          <label for="username">Username</label>
          <input type="text" id="username" name="username" value="<%= values.username || '' %>" placeholder="ada_lovelace" pattern="[a-zA-Z0-9_]+" minlength="3" maxlength="30" required />
          <small>Letters, numbers, underscores only</small>
        </div>
        <div class="form-group">
          <label for="email">Email</label>
          <input type="email" id="email" name="email" value="<%= values.email || '' %>" placeholder="ada@example.com" required />
        </div>
        <div class="form-group">
          <label for="password">Password</label>
          <input type="password" id="password" name="password" placeholder="At least 8 characters" minlength="8" required />
        </div>
        <button type="submit" class="btn btn-primary btn-full">Create Account</button>
      </form>

      <!-- OAuth divider -->
      <div style="display:flex;align-items:center;gap:0.75rem;margin:1.25rem 0">
        <div style="flex:1;height:1px;background:var(--border)"></div>
        <span style="color:var(--text-muted);font-size:0.8rem">or sign up with</span>
        <div style="flex:1;height:1px;background:var(--border)"></div>
      </div>

      <div style="display:flex;flex-direction:column;gap:0.65rem">
        <a href="/auth/google" class="btn btn-outline btn-full" style="display:flex;align-items:center;justify-content:center;gap:0.6rem">
          <svg width="18" height="18" viewBox="0 0 48 48"><path fill="#EA4335" d="M24 9.5c3.5 0 6.6 1.2 9 3.2l6.7-6.7C35.8 2.5 30.2 0 24 0 14.7 0 6.7 5.4 2.6 13.4l7.8 6C12.5 13.2 17.8 9.5 24 9.5z"/><path fill="#4285F4" d="M46.5 24.5c0-1.6-.1-3.1-.4-4.5H24v8.5h12.7c-.6 3-2.3 5.5-4.8 7.2l7.5 5.8C43.9 37.3 46.5 31.4 46.5 24.5z"/><path fill="#FBBC05" d="M10.4 28.6A14.5 14.5 0 0 1 9.5 24c0-1.6.3-3.1.8-4.6l-7.8-6A23.9 23.9 0 0 0 0 24c0 3.9.9 7.5 2.6 10.7l7.8-6.1z"/><path fill="#34A853" d="M24 48c6.2 0 11.4-2 15.2-5.5l-7.5-5.8c-2 1.4-4.6 2.2-7.7 2.2-6.2 0-11.5-3.7-13.6-9l-7.8 6C6.7 42.6 14.7 48 24 48z"/></svg>
          Continue with Google
        </a>
        <a href="/auth/github" class="btn btn-outline btn-full" style="display:flex;align-items:center;justify-content:center;gap:0.6rem">
          <svg width="18" height="18" viewBox="0 0 24 24" fill="currentColor"><path d="M12 0C5.37 0 0 5.37 0 12c0 5.3 3.44 9.8 8.2 11.38.6.11.82-.26.82-.58v-2.03c-3.34.72-4.04-1.61-4.04-1.61-.55-1.39-1.34-1.76-1.34-1.76-1.09-.74.08-.73.08-.73 1.2.09 1.84 1.24 1.84 1.24 1.07 1.83 2.8 1.3 3.49 1 .11-.78.42-1.3.76-1.6-2.67-.3-5.47-1.33-5.47-5.93 0-1.31.47-2.38 1.24-3.22-.13-.3-.54-1.52.12-3.18 0 0 1.01-.32 3.3 1.23a11.5 11.5 0 0 1 3-.4c1.02 0 2.04.13 3 .4 2.28-1.55 3.29-1.23 3.29-1.23.66 1.66.25 2.88.12 3.18.77.84 1.24 1.91 1.24 3.22 0 4.61-2.81 5.63-5.49 5.92.43.37.81 1.1.81 2.22v3.29c0 .32.22.7.83.58A12.003 12.003 0 0 0 24 12C24 5.37 18.63 0 12 0z"/></svg>
          Continue with GitHub
        </a></div>

      <p class="auth-switch">Already have an account? <a href="/auth/login">Sign in â†’</a></p>
    </div>
  </main>
  <script src="/js/main.js"></script>
</body>
</html>

